eclipse.preferences.version=1
problemStatement=BearSortsDiv2.html
problemStatementXml=<?xml version\="1.0" encoding\="UTF-8"?>\n<java version\="1.8.0_25" class\="java.beans.XMLDecoder">\n <object class\="net.fornwall.eclipsecoder.stats.ProblemStatement" id\="ProblemStatement0">\n  <void property\="className">\n   <string>BearSortsDiv2</string>\n  </void>\n  <void property\="contestName">\n   <string>Single Round Match 664 - 1000 points</string>\n  </void>\n  <void property\="htmlDescription">\n   <string>&lt;html&gt;&lt;head&gt;&lt;title&gt;BearSortsDiv2&lt;/title&gt;&lt;/head&gt;&lt;body bgcolor\=&quot;\#000000&quot; text\=&quot;\#ffffff&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;&lt;h3&gt;Problem Statement&lt;/h3&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;\#160;&amp;\#160;&amp;\#160;&amp;\#160;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Bear Limak was chilling in the forest when he suddenly found a computer program.\nThe program was a correct implementation of MergeSort.\nBelow you can find the program in pseudocode.&lt;/p&gt;\n&lt;br&gt;&lt;/br&gt;\n&lt;pre&gt;\# mergeSort(left,right) sorts elements left, left+1, ..., right-1 of a global array T\nfunction mergeSort(left,right)\:\n    \# if there is at most one element, we are done\n    if left+1 &amp;gt;\= right\: return\n\n    \# otherwise, split the sequence into halves, sort each half separately\n    mid \= (left + right) div 2\n    mergeSort(left,mid)\n    mergeSort(mid,right)\n\n    \# then merge the two halves together\n    merged \= []    \#\u00A0an empty sequence\n    p1 \= left\n    p2 \= mid\n    while (p1 &amp;lt; mid) or (p2 &amp;lt; right)\:\n        if p1 \=\= mid\:\n            merged.append( T[p2] )\n            p2 +\= 1\n        else if p2 \=\= right\:\n            merged.append( T[p1] )\n            p1 +\= 1\n        else\:\n            if LESS( T[p1], T[p2] )\:\n                merged.append( T[p1] )\n                p1 +\= 1\n            else\:\n                merged.append( T[p2] )\n                p2 +\= 1\n\n    \# finally, move the merged elements back into the original array\n    for i from left to right-1 inclusive\:\n        T[i] \= merged[i-left]&lt;/pre&gt;\n&lt;br&gt;&lt;/br&gt;\n&lt;p&gt;Limak noticed that one part of the implementation was missing\: the function LESS.\nYou can probably guess that the function is supposed to return a boolean value stating whether the first argument is less than the second argument.\nHowever, Limak is a bear and he didn&apos;t know that.\nInstead he implemented his own version of this function.\nLimak&apos;s function uses a true random number generator.\nEach of the two possible return values (true, false) is returned with probability 50 percent.&lt;/p&gt;\n&lt;br&gt;&lt;/br&gt;\n&lt;p&gt;The random values generated in different calls to Limak&apos;s function LESS are mutually independent.\nNote that even if you call LESS twice with the same arguments, the two return values may differ.&lt;/p&gt;\n&lt;br&gt;&lt;/br&gt;\n&lt;p&gt;After implementing LESS, Limak decided to run his brand new program.\nHe initialized the global array T to contain N elements.\nThen, he filled the values 1 through N into the array\: for each valid i, he set T[i] to i+1.\nFinally, he executed the function mergeSort(0,N).&lt;/p&gt;\n&lt;br&gt;&lt;/br&gt;\n&lt;p&gt;Even with Limak&apos;s new LESS function, the program never crashes.\nOn the other hand, it does not necessarily produce a sorted sequence when it terminates.\nIn general, when the program terminates, the array T will contain some permutation of the numbers 1 through N.&lt;/p&gt;\n&lt;br&gt;&lt;/br&gt;\n&lt;p&gt;After running the program many times, Limak has noticed that different output permutations are produced with different probabilities.\nYour task is to help him learn more about these probabilities.\nMore precisely, your task is to compute the probability that a given sequence will appear as the output of Limak&apos;s program.&lt;/p&gt;\n&lt;br&gt;&lt;/br&gt;\n&lt;p&gt;You are given a int[] &lt;b&gt;sortedSequence&lt;/b&gt; with N elements, containing a permutation of 1 through N.\nLet P be the probability that Limak&apos;s program, when run on an array with N elements, outputs this permutation.\nReturn the value log(P), where log denotes the natural (base e) logarithm.&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;&lt;h3&gt;Definition&lt;/h3&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;\#160;&amp;\#160;&amp;\#160;&amp;\#160;&lt;/td&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;Class\:&lt;/td&gt;&lt;td&gt;BearSortsDiv2&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Method\:&lt;/td&gt;&lt;td&gt;getProbability&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Parameters\:&lt;/td&gt;&lt;td&gt;int[]&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Returns\:&lt;/td&gt;&lt;td&gt;double&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Method signature\:&lt;/td&gt;&lt;td&gt;double getProbability(int[] seq)&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;(be sure your method is public)&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;&lt;h3&gt;Limits&lt;/h3&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;\#160;&amp;\#160;&amp;\#160;&amp;\#160;&lt;/td&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;Time limit (s)\:&lt;/td&gt;&lt;td&gt;2.000&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Memory limit (MB)\:&lt;/td&gt;&lt;td&gt;256&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;Stack limit (MB)\:&lt;/td&gt;&lt;td&gt;256&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;&lt;h3&gt;Notes&lt;/h3&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; valign\=&quot;top&quot;&gt;-&lt;/td&gt;&lt;td&gt;Your return value must have absolute or relative error smaller than 1e-9.&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; valign\=&quot;top&quot;&gt;-&lt;/td&gt;&lt;td&gt;You may assume that for each N and for each permutation P of 1 through N the probability that P appears as the output of Limak&apos;s program is strictly positive.&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;&lt;h3&gt;Constraints&lt;/h3&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; valign\=&quot;top&quot;&gt;-&lt;/td&gt;&lt;td&gt;&lt;b&gt;sortedSequence&lt;/b&gt; will contain exactly N elements.&lt;br&gt;&lt;/br&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; valign\=&quot;top&quot;&gt;-&lt;/td&gt;&lt;td&gt;N will be between 1 and 40, inclusive.&lt;br&gt;&lt;/br&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; valign\=&quot;top&quot;&gt;-&lt;/td&gt;&lt;td&gt;Elements of &lt;b&gt;sortedSequence&lt;/b&gt; will be between 1 and N, inclusive.&lt;br&gt;&lt;/br&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; valign\=&quot;top&quot;&gt;-&lt;/td&gt;&lt;td&gt;Elements of &lt;b&gt;sortedSequence&lt;/b&gt; will be pairwise distinct.&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;&lt;h3&gt;Examples&lt;/h3&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; nowrap\=&quot;true&quot;&gt;0)&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;\#160;&amp;\#160;&amp;\#160;&amp;\#160;&lt;/td&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;{1,2}&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;Returns\: -0.6931471805599453&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;Limak is sorting a 2-element sequence.\nThe algorithm will split it into two 1-element sequences and then it will merge those together.\nWhile merging, the algorithm will call LESS(1, 2) to &quot;compare&quot; the two elements.\nIf LESS(1, 2) returns true, the resulting permutation will be {1, 2}, otherwise it will be {2, 1}.\nTherefore, the probability of each of those two permutations is equal to 0.5.\nThe return value is log(0.5).&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; nowrap\=&quot;true&quot;&gt;1)&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;\#160;&amp;\#160;&amp;\#160;&amp;\#160;&lt;/td&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;{1,3,2}&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;Returns\: -1.3862943611198906&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;When {1, 2, 3} is sorted, it is first split into {1} and {2, 3}.\nAfter that, in order to obtain {1, 3, 2} in the end, two things must happen, one after another\:\n&lt;ul&gt;\n&lt;li&gt;When {2, 3} is recursively sorted, the result must be {3, 2}. From Example 0 we know this happens with probability 0.5.&lt;/li&gt;\n&lt;li&gt;When merging {1} and {3, 2}, the first call to LESS will be LESS(1, 3). This call must return true. Again, this happens with probability 0.5.&lt;/li&gt;\n&lt;/ul&gt;\nTherefore, the probability is 0.5 * 0.5 \= 0.25, and the answer is log(0.25).&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td align\=&quot;center&quot; nowrap\=&quot;true&quot;&gt;2)&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&amp;\#160;&amp;\#160;&amp;\#160;&amp;\#160;&lt;/td&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;{10,13,18,2,4,6,24,22,19,5,7,20,23,14,21,17,25,3,1,11,12,8,15,16,9}&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;pre&gt;Returns\: -57.53121598647546&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;&lt;table&gt;&lt;tr&gt;&lt;td colspan\=&quot;2&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;p&gt;This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  &lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</string>\n  </void>\n  <void property\="methodName">\n   <string>getProbability</string>\n  </void>\n  <void property\="parameterNames">\n   <void method\="add">\n    <string>seq</string>\n   </void>\n  </void>\n  <void property\="parameterTypes">\n   <void method\="add">\n    <class>[Ljava.lang.Integer;</class>\n   </void>\n  </void>\n  <void property\="returnType">\n   <class>java.lang.Double</class>\n  </void>\n  <void property\="testCases">\n   <void method\="add">\n    <object class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" id\="ProblemStatement$TestCase0">\n     <void class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" method\="getField">\n      <string>parameters</string>\n      <void method\="set">\n       <object idref\="ProblemStatement$TestCase0"/>\n       <array class\="java.lang.Object" length\="1">\n        <void index\="0">\n         <array class\="java.lang.Integer" length\="2">\n          <void index\="0">\n           <int>1</int>\n          </void>\n          <void index\="1">\n           <int>2</int>\n          </void>\n         </array>\n        </void>\n       </array>\n      </void>\n     </void>\n     <void class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" method\="getField">\n      <string>returnValue</string>\n      <void method\="set">\n       <object idref\="ProblemStatement$TestCase0"/>\n       <double>-0.6931471805599453</double>\n      </void>\n     </void>\n    </object>\n   </void>\n   <void method\="add">\n    <object class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" id\="ProblemStatement$TestCase1">\n     <void class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" method\="getField">\n      <string>parameters</string>\n      <void method\="set">\n       <object idref\="ProblemStatement$TestCase1"/>\n       <array class\="java.lang.Object" length\="1">\n        <void index\="0">\n         <array class\="java.lang.Integer" length\="3">\n          <void index\="0">\n           <int>1</int>\n          </void>\n          <void index\="1">\n           <int>3</int>\n          </void>\n          <void index\="2">\n           <int>2</int>\n          </void>\n         </array>\n        </void>\n       </array>\n      </void>\n     </void>\n     <void class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" method\="getField">\n      <string>returnValue</string>\n      <void method\="set">\n       <object idref\="ProblemStatement$TestCase1"/>\n       <double>-1.3862943611198906</double>\n      </void>\n     </void>\n    </object>\n   </void>\n   <void method\="add">\n    <object class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" id\="ProblemStatement$TestCase2">\n     <void class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" method\="getField">\n      <string>parameters</string>\n      <void method\="set">\n       <object idref\="ProblemStatement$TestCase2"/>\n       <array class\="java.lang.Object" length\="1">\n        <void index\="0">\n         <array class\="java.lang.Integer" length\="25">\n          <void index\="0">\n           <int>10</int>\n          </void>\n          <void index\="1">\n           <int>13</int>\n          </void>\n          <void index\="2">\n           <int>18</int>\n          </void>\n          <void index\="3">\n           <int>2</int>\n          </void>\n          <void index\="4">\n           <int>4</int>\n          </void>\n          <void index\="5">\n           <int>6</int>\n          </void>\n          <void index\="6">\n           <int>24</int>\n          </void>\n          <void index\="7">\n           <int>22</int>\n          </void>\n          <void index\="8">\n           <int>19</int>\n          </void>\n          <void index\="9">\n           <int>5</int>\n          </void>\n          <void index\="10">\n           <int>7</int>\n          </void>\n          <void index\="11">\n           <int>20</int>\n          </void>\n          <void index\="12">\n           <int>23</int>\n          </void>\n          <void index\="13">\n           <int>14</int>\n          </void>\n          <void index\="14">\n           <int>21</int>\n          </void>\n          <void index\="15">\n           <int>17</int>\n          </void>\n          <void index\="16">\n           <int>25</int>\n          </void>\n          <void index\="17">\n           <int>3</int>\n          </void>\n          <void index\="18">\n           <int>1</int>\n          </void>\n          <void index\="19">\n           <int>11</int>\n          </void>\n          <void index\="20">\n           <int>12</int>\n          </void>\n          <void index\="21">\n           <int>8</int>\n          </void>\n          <void index\="22">\n           <int>15</int>\n          </void>\n          <void index\="23">\n           <int>16</int>\n          </void>\n          <void index\="24">\n           <int>9</int>\n          </void>\n         </array>\n        </void>\n       </array>\n      </void>\n     </void>\n     <void class\="net.fornwall.eclipsecoder.stats.ProblemStatement$TestCase" method\="getField">\n      <string>returnValue</string>\n      <void method\="set">\n       <object idref\="ProblemStatement$TestCase2"/>\n       <double>-57.53121598647546</double>\n      </void>\n     </void>\n    </object>\n   </void>\n  </void>\n </object>\n</java>\n
